<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bioelectric Consciousness Module</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='css/styles.css') }}"
      rel="stylesheet"
    />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div class="container-fluid mt-3">
      <h1 class="text-center text-info mb-4">
        Bioelectric Consciousness Module
      </h1>

      <div class="row">
        <!-- Controls Panel -->
        <div class="col-md-3">
          <div class="card bg-dark text-light border-secondary mb-4">
            <div class="card-header bg-dark border-secondary">
              <h5 class="text-info">Experiment Controls</h5>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <label for="scenario-select" class="form-label">Scenario</label>
                <select
                  id="scenario-select"
                  class="form-select bg-dark text-light"
                >
                  <!-- Scenarios will be populated by JavaScript -->
                </select>
              </div>

              <div id="parameter-controls">
                <!-- Parameters will be populated by JavaScript -->
              </div>

              <div class="d-grid gap-2 mt-4">
                <button id="start-btn" class="btn btn-outline-primary">
                  Start
                </button>
                <button id="step-btn" class="btn btn-outline-success">
                  Run Step
                </button>
                <button id="reset-btn" class="btn btn-outline-warning">
                  Reset
                </button>
              </div>

              <div class="mt-4">
                <p id="iteration-counter" class="text-center">Iteration: 0</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Visualization Panel -->
        <div class="col-md-9">
          <div class="card bg-dark border-secondary mb-4">
            <div class="card-header bg-dark border-secondary">
              <h5 class="text-info">Bioelectric Pattern Visualization</h5>
            </div>
            <div class="card-body">
              <div class="btn-group mb-3" role="group">
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-sm active"
                  data-view="voltage"
                >
                  Voltage
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-sm"
                  data-view="sodium"
                >
                  Sodium
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-sm"
                  data-view="potassium"
                >
                  Potassium
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-sm"
                  data-view="calcium"
                >
                  Calcium
                </button>
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-sm"
                  data-view="morphology"
                >
                  Morphology
                </button>
              </div>
              <div id="visualization" class="plot-container"></div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="card bg-dark border-secondary mb-4">
                <div class="card-header bg-dark border-secondary">
                  <h5 class="text-info">Voltage Potential</h5>
                </div>
                <div class="card-body">
                  <div id="time-series" class="plot-container"></div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card bg-dark border-secondary mb-4">
                <div class="card-header bg-dark border-secondary">
                  <h5 class="text-info">Pattern Complexity</h5>
                </div>
                <div class="card-body">
                  <div id="pattern-metrics" class="plot-container"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/simulation.js') }}"></script>
  </body>
</html>
